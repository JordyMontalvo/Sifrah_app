@import 'vars.styl'

body, .app
  font-family global-font
  background app-bg
  color app-text

// Tarjetas y contenedores
.card, .profile-glass-card
  background app-bg-card
  color app-text
  border 1px solid app-border

.app
  min-height 100vh
  display flex 
  flex-direction column
  >header
    display flex
    align-items center
    justify-content space-between
    background #111111
    color white
    padding 12px 16px
    gap 12px
    &.silver
      background linear-gradient(-225deg, #77FFD2 0%, #6297DB 48%, #1EECFF 100%)
    &.gold
      background linear-gradient(to right, #BF953F, #fff380, #B38728, #fff480, #AA771C)
    
    .header-left
      display flex
      align-items center
      flex-shrink 0
      
    .header-center
      position relative
      flex 1
      display flex
      align-items center
      justify-content center
      min-width 0
      
      .header-user-info
        position absolute
        display flex
        flex-direction column
        align-items flex-start
        gap 2px
        cursor move
        user-select none
        padding 4px 8px
        border-radius 4px
        transition background-color 0.2s
        
        &:hover
          background-color rgba(255, 255, 255, 0.1)
        
        &:active
          cursor grabbing
          background-color rgba(255, 255, 255, 0.15)
        
        .header-code
          font-size 14px
          font-weight 600
          white-space nowrap
          pointer-events none
          
        .header-dni
          font-size 13px
          opacity 0.9
          white-space nowrap
          pointer-events none
          
    .header-right
      display flex
      align-items center
      gap 12px
      flex-shrink 0
      
      .header-photo-label
        cursor pointer
        display flex
        align-items center
        
      .header-photo
        width 40px
        height 40px
        border-radius 50%
        object-fit cover
        border 2px solid rgba(255, 255, 255, 0.3)
        
      .header-icon
        font-size 18px
        cursor pointer
        padding 4px
        transition opacity 0.2s
        
        &:hover
          opacity 0.8
          
      .header-icon-link
        color white
        text-decoration none
        display flex
        align-items center
        
    .logo
      height 32px
      width auto
      
    .burger
      font-size 22px
      cursor pointer
      padding 4px
      
    @media (min-width: d-break)
      .header-center
        display none
      .header-right .header-icon.burger
        display none
  >section
    display flex
    flex 1
    // layout
    .menu
      padding 10px 20px
    .content
      transition all .5s
    .menu
      // En móvil el menú lateral no empuja el contenido, se muestra como overlay
      min-width 70%
      transform translate(-100%, 0)
    .content
      min-width 100%
      // Antes el contenido se desplazaba -70% para el efecto "push", lo que en móvil
      // hacía que solo se viera un pedazo de la vista y el resto fuera espacio en blanco.
      // Ahora el contenido ocupa siempre el 100% del ancho cuando el menú está oculto.
      transform translate(0, 0)
      overflow auto
      position relative
      transition transform .5s
    /* En la vista de activación SOLO EN DESKTOP, quitar el transform translate para que el sticky funcione */
    @media (min-width: 1024px)
      body.activation-view &
        transform none !important
        transition none !important
    &.open
      .menu 
      .content
        // Cuando el menú está abierto en móviles, mantenemos el contenido fijo y
        // usamos el overlay móvil definido en App.vue, sin desplazar la vista.
        transform translate(0, 0)
        height auto
    // style
    .content
      background white 
      >header
        padding 0px 40px
        display flex
        align-items center
        justify-content: space-between;
        color #9f00ad
        border-bottom: 2px solid #00796b;
        .social
          font-size 20px
          margin-left 20px
          a
            padding 8px
      >section
        padding 8px 16px
        padding-bottom 72px

@media (max-width: 450px) 
    .app >section .content >header 
      display none

  .share-button
    background-color: #D209B6;
    color: #fff;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    cursor: pointer;
    display: flex
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: bold;
    /* margin-left: 10px; */
    /* margin-left: 600px; */
    /* position: relative; */
    /* left: 400px; */
    /* transform: translate(500px, 0); */
    
    // Aumentar el margen izquierdo
.footer-register
  display flex
  color white
  
.footer-Dashboard
    position fixed
    bottom 0
    width 100%

    display: flex;
    justify-content: space-around;
    border-top: solid 1px app-border;
    background #111111

    a 
      display flex  
      flex-direction column
      align-items center
      text-align center
      color white 
      font-size 11px
      padding 6px 2px
      flex 1
      transition all 0.3s ease
      
      &.router-link-active, &.active
        color c-menu-active-pink
        i 
          color c-menu-active-pink

    i
      display flex
      align-items center
      justify-content center
      font-size 22px
      height 22px
      width 22px
      margin-bottom 0px

    @media (min-width: d-break)
      display none

  
// Cuando hay un modal de producto abierto, resetear el transform del content
// Solo aplicar en móvil donde el transform afecta (menor a 768px)
@media (max-width: 767px)
  body.product-modal-open .app > section .content
    transform none !important
    transition none !important

@media (min-width: d-break)
  .app
    >header
      display none
    >section
      .menu
        min-width 300px // Balanced width
        width 300px
        transform translate(0, 0)
        position fixed
      .content
        flex 1
        margin-left 300px // Balanced offset
        min-width auto
        transform none
        >section
          padding 8px 32px


.menu
  position fixed
  top 0
  left 0
  height 100vh
  overflow hidden // No scroll on main container
  z-index 100
  background c-menu-dark-bg
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
  min-width 40%
  transform translate(-100%, 0)
  padding 40px 0 0 0 // Logout is flush at bottom
  box-sizing border-box
  display flex
  flex-direction column

  .menu-scroll-container
    flex 1
    overflow-y auto
    display flex
    flex-direction column
    
  .text-header
    border-bottom 1px solid c-menu-border
    margin-bottom 20px
    padding 20px
    
  .photo-logo
    margin 30px auto 30px auto
    display block
    width 210px // Increased from 180px
    cursor pointer

  a
    position relative // For absolute positioning the active bar
    background transparent
    display flex
    align-items center
    color c-menu-text-dim
    font-size 15px
    padding 18px 24px // Increased vertical padding
    border-bottom 1px solid #1C1C1C // Subtle divider between items
    margin-bottom 0
    border-radius 0
    transition all 0.3s ease
    
    span // Ensure grouping span is also a flex container
      display flex
      align-items center
    
    &:first-of-type
      border-top 1px solid #1C1C1C // Divider above the first item (Inicio)
    
    &::before
      content ''
      position absolute
      left 0
      top 12.5% // Centered vertically for 75% height
      height 75% // Increased to 75% height
      width 4px
      background transparent
      transition background-color 0.3s ease

    img, i, svg
      width 20px
      text-align center
      margin-right 12px
      opacity 0.7

    &:hover
      background rgba(255, 255, 255, 0.05)
      color white
      img, i
        opacity 1

    &.router-link-active, &.active-parent, &.active
      background transparent
      color c-menu-active-pink
      &::before
        background c-menu-active-pink // Show the shorter bar
      img, i, svg
        opacity 1
        color c-menu-active-pink
        path
          fill currentColor
        &.fa-angle-down
          transform rotate(180deg) 

    i.fa-angle-down
      transition transform 0.3s ease
      font-size 16px
      margin-left auto
      margin-right 0

  .logout-button
    color c-menu-text-dim !important
    margin-top auto // Push to bottom of the viewport
    margin-bottom 0 // Flush with bottom
    border-top 1px solid #1C1C1C // Consistent divider color
    border-bottom none // Bottom edge of the menu
    border-left none !important
    padding 18px 24px
    display flex
    align-items center
    transition all 0.3s ease
    i
      color #E91E63 !important // Keep only the icon pink
      opacity 1
      width 22px // Slightly reduced from 24px
      font-size 18px // Slightly reduced from 20px
      margin-right 12px
    &:hover
      background rgba(255, 255, 255, 0.05)
      color white !important
      

@media (min-width: d-break)
  .menu
    a
      padding-right 24px


.sub-menu
  display none
  background c-menu-item-bg
  border-bottom 1px solid #1C1C1C // Consistent divider after sub-menus
  margin-bottom 0
  
  a
    font-size 13px
    padding 16px 24px 16px 48px
    margin-bottom 2px
    border-left none
    background transparent
    color c-menu-text-dim
    
    &::before
      display none // Only main categories should have the left vertical bar

    i
      font-size 16px !important
      width 20px
      text-align center
      
    svg
      width 18px !important
      height auto


    &:hover
      background rgba(255, 255, 255, 0.05)
      color white

    &.router-link-active
      background linear-gradient(90deg, #f06292 0%, #ec407a 100%) // Softer pink/pastel gradient
      color white !important
      border-left none
      border-radius 6px
      margin 4px 15px
      padding-left 33px
      font-weight 600
      
      i, svg, img
        color white !important
        opacity 1
        
        path
          fill white !important
          
      i
        font-size 16px // Reduced size significantly for sub-options


  
  &.active
    display block
    border-radius 8px


// Dashboard
.boxes
  display grid
  grid-template-columns 1fr 1fr
  column-gap 16px
  row-gap 24px
  margin 8px 0

  .box
    box-shadow 0px 4px 4px 0px rgba(black, 0.25)
    color white
    padding 16px
    display flex
    i
      font-size 24px
      margin-top 4px
      margin-right 8px
    p
      font-size 18px
      font-weight bold
    span
      font-size 12px

    &.blue
      background c-blue
    &.yellow
      background c-yellow
    &.red
      background c-red
    &.green
      background c-green
    &.orange
      background c-orange

@media (min-width: d-break)
  .boxes
    grid-template-columns 1fr 1fr 1fr
    max-width 1024px
    .box
      i
        font-size 36px


// Afiliation


// Directs
.scroll
  overflow auto
  margin 16px 0
  color rgb(0, 17, 92)

table
  white-space nowrap
  text-align center
  thead
    
    color c-blue
  tbody
    font-size 16px
    font-weight bold
    td  
      color rgba(8, 56, 92, 1);
      font roboto-bold
      padding 8px
              
        
// Tree
.tree
  .row
    display flex
    padding 8px 0
    .el
      flex 1
      text-align center
      i
        font-size 32px
        color #fff
        &.affiliated
          color #ffe400
        &.activated
          color #14ec42
      p
        font-size 12px
      span
        font-size 10px
        display block




.products
  >div
    margin-right 20px
.product
  display flex
  margin 8px 0
  align-items flex-start
  // font-size 14px
  small
    // width 180px
    width 120px
    // font-size 10px
    font-size 12px
  input
    width 40px
    text-align center
  .control
    display flex

@media (min-width: d-break)
  .products
    display flex
  .products-container
    display flex



.tabs
  .tab
    color c-gray
    &.router-link-active
      color  rgba(8, 56, 92, 1);


.flex
  display flex
  align-items flex-start

._tabs
  padding: 10px;
  color: black;
  margin-bottom 30px

.flex-activacion
  display flex
  gap 20px


@media(max-width: d-break)
  .flex-activacion
    display block



/* Estilos para el botón de prueba */
.btn-red
  background #f44336
  color white
  
  &:hover
    background #d32f2f

// V-cloak para evitar que se muestre contenido sin datos
[v-cloak]
  display none !important